5-4.연속부분수열2
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <!--
      N개의 수로 이루어진 수열이 주어집니다.
      이 수열에서 "연속부분수열의 합"이 특정숫자 M이하가 되는 경우가 몇 번 있는지 구하는 프로그 램을 작성하세요.
      만약 N=5, M=5이고 수열이 다음과 같다면
      1 3 1 2 3
      합이 5이하가 되는 연속부분수열은
      {1}, {3}, {1}, {2}, {3}, {1, 3}, {3, 1}, {1, 2}, {2, 3}, {1, 3, 1}로 총 10가지입니다.

      ▣ 입력설명
      첫째 줄에 N(1≤N≤100,000), M(1≤M≤100,000,000)이 주어진다. 수열의 원소값은 1,000을 넘지 않는 자연수이다.

      ▣ 출력설명
      첫째 줄에 경우의 수를 출력한다.

      ▣ 입력예제 1
      5 5 13123

      ▣ 출력예제 1
      10

   -->
  <script>
    function solution(m, arr) {
      let answer = 0;
      let lt = (rt = 0);
      let sum = 0;

      for (let rt = 0; rt < arr.length; rt++) {
        debugger;
        sum += arr[rt];
        // if (sum < m) {
        //   answer++;
        // } else if (sum === m) {
        //   answer++;
        //   rt = ++lt;
        //   sum = 0;
        // } else if (sum > m) {
        //   rt = ++lt;
        //   sum = 0;
        // }
        while (sum > m) {
          sum -= arr[lt++]; //#POINT: lt가 하나 빠져도 m 보다 클수 있기 때문에 while문으로 sum<m 일때까지 반복
        }
        answer += rt - lt + 1; //#POINT, #HARD: 부분 수열 구하는 방법
      }

      return answer;
    }

    /*
      [1, 3, 1, 2, 3]

      * rt index가 포함된 숫자가 포함된 부분 수열을 구해야 중복을 피할 수 있다.

      * lt, rt: index

      * lt, rt에 따른 구할 수 있는 부분 수열
        lt   rt
        0     0    1
        0     1    3/ 1,3
        0     2    1/ 3,1/ 1,3,1

      * 위표를 미루어 보아
        rt - lt + 1 이어야 한다.
    */

    let a = [1, 3, 1, 2, 3];
    console.log(solution(5, a));
  </script>

  <!-- 해석 -->
  <script>
    (() => {
      function solution(m, arr) {
        let answer = 0,
          sum = 0,
          lt = 0;
        for (let rt = 0; rt < arr.length; rt++) {
          sum += arr[rt];
          while (sum > m) {
            sum -= arr[lt++];
          }
          answer += rt - lt + 1;
        }
        return answer;
      }

      let a = [1, 3, 1, 2, 3];
      console.log(solution(5, a));
    })();
  </script>
  <body></body>
</html>
