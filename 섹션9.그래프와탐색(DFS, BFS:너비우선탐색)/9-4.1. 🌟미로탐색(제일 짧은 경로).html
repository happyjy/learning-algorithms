<html>
  <head>
    <meta charset="UTF-8" />
    <title>ì¶œë ¥ê²°ê³¼</title>
  </head>
  <body>
    <!-- 30ë¶„ ì†Œìš” -->
    <!--
      * ğŸŒŸì™„ë²½í•˜ì§€ ì•ŠìŒ
        - í…ŒíŠ¸ ë°˜ê°œ í†µê³¼ í•˜ì§€ ëª»í•¨
        - íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸ 4ê°œ ëª¨ë‘ ì‹¤íŒ¨

      * (1,1)ì—ì„œ (n,m)ìœ¼ë¡œ ë„ë‹¬í•˜ëŠ” ë°©ë²•ì¤‘ ê°€ì¥ ì§§ì€ ê±°ë¦¬ë¥¼ êµ¬í•˜ì„¸ìš”.
      * ì œì¼ ì§§ì€ ê²½ë¡œì™€ ê·¸ ê¸¸ì´ë¥¼ êµ¬í•´ë¼
      * ê°ˆìˆ˜ ì—†ìœ¼ë©´ -1


      * ğŸŒŸê°ˆìˆ˜ ìˆëŠ” ê¸¸ 1
      * ğŸŒŸê°ˆìˆ˜ ì—†ëŠ” ê¸¸ 0
     -->
    <script>
      function solution(board) {
        let answer = -1;
        let boardLen = board.length - 1;
        // ì„œ, ë¶, ë™, ë‚¨
        let dx = [-1, 0, 1, 0];
        let dy = [0, 1, 0, -1];

        let count = 1; //#POINT: (1,1)ì—ì„œ (n,m)ìœ¼ë¡œ ë„ë‹¬í•˜ëŠ” ë°©ë²•ì¤‘ ê°€ì¥ ì§§ì€ ê±°ë¦¬
        let shortest = Number.MAX_SAFE_INTEGER;

        function DFS(x, y) {
          if (x === boardLen && y === boardLen) {
            shortest = Math.min(shortest, count);
            // count = 0;
            answer = shortest;
          } else {
            for (let k = 0; k < 4; k++) {
              let nx = x + dx[k];
              let ny = y + dy[k];
              //#POINT: ê°ˆìˆ˜ ì‡ëŠ” ê¸¸ í™•ì¸
              if (nx >= 0 && nx <= boardLen && ny >= 0 && ny <= boardLen && board[nx][ny] === 1) {
                //#POINT-A: ê°„ê¸¸ 0ë¡œ ì²´í¬
                board[nx][ny] = 0;
                ++count;
                DFS(nx, ny);
                //#POINT-A: ë§‰ë‹¤ë¥¸ê³³ì— ë„ë‹¬ í–ˆì„ë•Œ, ê°ˆê¸¸ì´ ì—†ì„ë•Œ ê°„ê¸¸ 1ë¡œ ì²´í¬í•œê²ƒì„ í’€ì–´ì¤€ë‹¤.
                --count;
                board[nx][ny] = 1;
              }
            }
          }
        }
        board[0][0] = 1;
        DFS(0, 0);
        return answer;
      }

      // var arr = [
      //   [0, 0, 0, 0, 0, 0, 0],
      //   [0, 1, 1, 1, 1, 1, 0],
      //   [0, 0, 0, 1, 0, 0, 0],
      //   [1, 1, 0, 1, 0, 1, 1],
      //   [1, 1, 0, 0, 0, 0, 1],
      //   [1, 1, 0, 1, 1, 0, 0],
      //   [1, 0, 0, 0, 0, 0, 0],
      // ];

      // console.log(solution(arr));

      var arr = [
        [1, 0, 1, 1, 1],
        [1, 0, 1, 0, 1],
        [1, 0, 1, 1, 1],
        [1, 1, 1, 0, 1],
        [0, 0, 0, 0, 1],
      ];
      console.log(solution(arr)); // 11

      var arr = [
        [1, 0, 1, 1, 1],
        [1, 0, 1, 0, 1],
        [1, 0, 1, 1, 1],
        [1, 1, 1, 0, 0],
        [0, 0, 0, 0, 1],
      ];
      console.log(solution(arr)); // -1
    </script>
  </body>
</html>
